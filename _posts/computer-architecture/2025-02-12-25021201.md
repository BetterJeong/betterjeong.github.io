---
title: "[Mano의 컴퓨터시스템구조] 명령어 코드"
excerpt: "명령어 코드와 AC 레지스터, 가산 논리 회로"

categories:
  - Computer Architecture

toc: false
toc_sticky: false

date: 2025-02-12
last_modified_at: 2025-02-12
---

> 컴퓨터 구조 스터디를 하며 'Mano의 컴퓨터시스템구조 제3판' 교재를 정리한 글입니다.  

# 명령어 코드

컴퓨터가 특정 동작을 수행하도록 지시하는 비트들의 집합이다.  
연산 코드, 피연산자, 저장 정보 등 여러 부분으로 구성된다.  

## 연산 코드

덧셈, 시프트, 보수 등 동작을 정의하는 비트들의 집합이다.  
연산 코드가 $n$비트로 구성되면 $2^n$개의 서로 다른 연산을 실행할 수 있다.  

## 연산과 마이크로 연산

연산(operation)은 컴퓨터 메모리에 저장된 명령어의 일부로 특정 연산을 수행하도록 명령하는 이진 코드이다.  
마이크로 연산(microoperation)은 연산 실행을 위한 하드웨어 수준의 세부 동작이다.  
즉, 연산 코드는 마이크로 연산의 집합이다.  

## 저장 프로그램 구조

가장 간단한 컴퓨터의 구성으로 단일 프로세서 레지스터를 사용해 명령어 코드는 연산 코드, 주소로 구성한다.  
4096워드 메모리를 사용하고, 12비트 주소가 필요하다.  
명령어는 16비트로, 12비트는 메모리 주소, 4비트는 연산 코드이다.  

![51](/assets/images/25021201/51.png)  

메모리에서 명령어를 읽어 연산 코드, 주소를 해석한다.  
주소에 해당하는 피연산자를 찾아 누산기(AC)로 연산을 수행한다.  
일부 명령어(클리어, 보수, 인크리멘트 등)는 피연산자 없이 실행되며 5~16비트는 다른 목적으로 사용될 수 있다.  

## 간접 주소

immediate: 명령어 코드의 피연산자 주소 부분이 피연산자의 내용을 직접 나타냄  
직접 주소(direct address): 피연산자 내용이 담겨있는 메모리 주소를 나타냄  
간접 주소(indirect address): 주소의 내용을 담은 장소의 주소를 저장하고 있는 위치  
간접 주소 모드 비트($I$): 모드 비트가 0이면 직접 주소, 1이면 간접 주소  
유효 주소(effective address): 실행시 참조하는 실제 데이터가 저장된 주소  

![52](/assets/images/25021201/52.png)  

1. 직접 주소의 경우  
    - `ADD 457` : 주소 457에서 피연산자를 가져와 누산기에 더함  
    - 457이 유효 주소
2. 간접 주소의 경우
    - `ADD 300` : 주소 300에 1350이 저장되어 1350에서 피연산자를 가져와 연산 수행  
    - 메모리 참조 두 번 발생  
    - 1350이 유효 주소  

# 누산기 논리 설계

![519](/assets/images/25021201/519.png)  

AC 레지스터는 연산 결과를 저장하는 주요 레지스터로, 가산 논리 회로와 연결되어 다양한 연산을 수행할 수 있다.  

## AC 레지스터에 대한 제어

![520](/assets/images/25021201/520.png)  

LD (Load): 여러 연산 결과를 AC에 저장, 연산 결과들이 OR 게이트로 AC에 전달됨  
INR (Increment): $r B_5$ 신호를 통해 AC 값 증가   
CLR (Clear): $r B_{11}$ 신호를 통해 AC 값을 0으로 초기화  
기타 연산에 대한 제어 신호는 각 논리게이트를 통해 LD, INR, CLR에 연결  

| 명령어   | 동작                                      | 설명           |
|---------|------------------------------------------|--------------|
| $D_0 T_5$  | $AC \leftarrow AC \land DR$            | $DR$과 AND |
| $D_1 T_5$  | $AC \leftarrow AC + DR$                | $DR$을 더함  |
| $D_2 T_5$  | $AC \leftarrow DR$                     | $DR$의 내용을 전송 |
| $p B_{11}$  | $AC(0-7) \leftarrow INPR$              | $INPR$의 내용을 전송 |
| $r B_9$   | $AC \leftarrow \overline{AC}$          | 보수 (Complement) |
| $r B_7$   | $AC \leftarrow shr AC, AC(15) \leftarrow E$ | 오른쪽 시프트 |
| $r B_6$   | $AC \leftarrow shl AC, AC(0) \leftarrow E$ | 왼쪽 시프트 |
| $r B_{11}$  | $AC \leftarrow 0$                      | 클리어 |
| $r B_5$   | $AC \leftarrow AC + 1$                 | 인크리먼트 |

## 가산 논리 회로

AC의 각 비트(16비트)에 대해 16개의 단(stage)로 나누어져 있다.  
레지스터 내부는 플립플롭과 논리 게이트로 구성되어 있다.  
16개의 입력 비트($I_i$)는 LD 입력이 인에이블될 때 $AC(0-15)$로 전송된다.  

![521](/assets/images/25021201/521.png)  

7개의 AND 게이트(연산 수행)와 1개의 OR 게이트(논리 결합), 1개의 전가산기(Full Adder, 덧셈 연산)로 구성되어 있다.  
위 그림 5-20에서 가져온 연산 신호와 연결되어 AND 게이트 입력에 따라 $AC(i)$ 값이 조정된다.  