---
title: "[Design Pattern] ì‹±ê¸€í„´ íŒ¨í„´(Singleton Pattern)"
excerpt: "ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ë§Œ ìƒì„± ë˜ëŠ” ê²ƒì„ ë³´ì¥í•˜ê³ , ì–´ë””ì—ì„œë“  ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ëŠ” ë””ìì¸ íŒ¨í„´"

categories:
  - Design Pattern

toc: false
toc_sticky: false
 
date: 2022-07-14
last_modified_at: 2022-07-14
---

> ìë°” ë””ìì¸ íŒ¨í„´ ìŠ¤í„°ë””ë¥¼ í•˜ë©° 'Java ê°ì²´ ì§€í–¥ ë””ìì¸ íŒ¨í„´' êµì¬ë¥¼ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.

# ì‹±ê¸€í„´ íŒ¨í„´(Singleton Pattern)

- ì¸ìŠ¤í„´ìŠ¤ê°€ ì˜¤ì§ í•˜ë‚˜ë§Œ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³´ì¥  
- ì–´ë””ì„œë“  ì´ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼ ê°€ëŠ¥  
- 'ë‹¨ í•˜ë‚˜ì˜ ì›ì†Œë§Œì„ ê°€ì§„ ì§‘í•©' ì´ë¼ëŠ” ìˆ˜í•™ ì´ë¡ ì—ì„œ ìœ ë˜  
- í´ë¼ì´ì–¸íŠ¸ê°€ ì‹±ê¸€í„´ í´ë˜ìŠ¤ì— `getInstance` ë©”ì„œë“œë¥¼ í†µí•´ ê°ì²´ ìƒì„±ì„ ìš”ì²­  
- ì´ë¯¸ ê°ì²´ê°€ ìƒì„±ëœ ê²½ìš° ê°ì²´ë¥¼ ë°˜í™˜  
- ì²˜ìŒ ìƒì„±í•˜ëŠ” ê²½ìš° ìƒì„±ìë¥¼ í˜¸ì¶œí•´ ê°ì²´ ìƒì„±  

## ì˜ˆì‹œ: í”„ë¦°í„° ê´€ë¦¬ì ë§Œë“¤ê¸°

- `Printer` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œ í”„ë¡œê·¸ë¨  
- `Printer` ëŠ” ë°˜ë“œì‹œ í•˜ë‚˜  

### ë‹¨ì¼ ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œì˜ ì‹±ê¸€í„´

#### êµ¬í˜„ ë°©ë²•

- ì™¸ë¶€ì—ì„œ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ìŒ  
  - ìƒì„±ìë¥¼ `private` ë¡œ ì„ ì–¸  
  - ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì œê³µí•˜ëŠ” ë©”ì„œë“œ ìƒì„±  
- ì¸ìŠ¤í„´ìŠ¤ê°€ ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆëŠ”ì§€ ê²€ì‚¬  
  - ìƒì„±ë˜ì§€ ì•Šì€ ìƒí™©ì´ë©´ ìƒì„±ì í˜¸ì¶œí•´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±  
  - ì´ë¯¸ ìƒì„±ë˜ì—ˆë‹¤ë©´ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜  
- `printer` ë³€ìˆ˜, `getPrinter` ë©”ì„œë“œëŠ” `static` íƒ€ì…ìœ¼ë¡œ ì„ ì–¸  

#### ì „ì²´ ì½”ë“œ

- 5ëª…ì˜ ì‚¬ìš©ìê°€ í”„ë¦°í„°ë¥¼ ì´ìš©í•˜ëŠ” ìƒí™©  

```
public class User {
    private String name;

    public User(String name) {
        this.name = name;
    }

    public void print() {
        Printer printer = Printer.getPrinter();
        printer.print(this.name + " print using " + printer.toString() + ".");
    }
}

public class Printer {
    private static Printer printer = null;
    private Printer() { }

    public static Printer getPrinter() {
        if (printer == null) {
            printer = new Printer();
        }
        return printer;
    }

    public void print(String str) {
        System.out.println(str);
    }
}

public class Main {
    private static final int User_NUM = 5;

    public static void main(String[] args) {
        User[] user = new User[User_NUM];
        for (int i = 0; i < User_NUM; i++) {
            user[i] = new User((i + 1) + "-user");
            user[i].print();
        }
    }
}
```

#### ì¶œë ¥

```
1-user print using Printer@6aaa5eb0.
2-user print using Printer@6aaa5eb0.
3-user print using Printer@6aaa5eb0.
4-user print using Printer@6aaa5eb0.
5-user print using Printer@6aaa5eb0.
```

### ë‹¤ì¤‘ ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œì˜ ì‹±ê¸€í„´

#### ì •ì  ë³€ìˆ˜ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë°”ë¡œ ì´ˆê¸°í™”

- í´ë˜ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ë¡œë”©ë  ë•Œ ë§Œë“¤ì–´ì ¸ ì´ˆê¸°í™” í•œ ë²ˆë§Œ ì‹¤í–‰  
- ì •ì  ë©”ì„œë“œ `getPrinter` ë¥¼ í†µí•´ ì°¸ì¡°ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ì„ ìˆ˜ ìˆìŒ  

##### Printer í´ë˜ìŠ¤ ì½”ë“œ

```
public class Printer {
    private static Printer printer = new Printer();
    private int counter = 0;
    private Printer() { }

    public static Printer getPrinter() {
        return printer;
    }

    public void print(String str) {
        counter++;
        System.out.println(str);
    }
}
```

#### getPrinter ë©”ì„œë“œ ë™ê¸°í™”

- `synchronized` ì‚¬ìš© ğŸ‘‰ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ì˜ ìì›ì„ ì‚¬ìš©í•˜ê³ ì í•  ë•Œ, í˜„ì¬ ë°ì´í„°ë¥¼ í™œìš©í•˜ê³  ìˆëŠ” ìŠ¤ë ˆë“œ ì™¸ì˜ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë“¤ì€ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ ë§‰ìŒ  

##### Printer í´ë˜ìŠ¤ ì½”ë“œ

```
public class Printer {
    private static Printer printer = null;
    private int counter = 0;
    private Printer() { }

    public synchronized static Printer getPrinter() {
        if (printer == null) {
            printer = new Printer();
        }
        return printer;
    }

    public void print(String str) {
        synchronized (this) {
            counter++;
            System.out.println(str+counter);
        }
    }
}
```

## ì •ì  í´ë˜ìŠ¤

- ì •ì  ë©”ì„œë“œë¡œ ì´ë£¨ì–´ì§„ ì •ì  í´ë˜ìŠ¤  
- êµ³ì´ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë™ì¼í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŒ  
- ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ë©”ì„œë“œë¥¼ ì‚¬ìš©  
- ì¸í„°í˜ì´ìŠ¤ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ  

### ì •ì  í´ë˜ìŠ¤ë¡œ êµ¬í˜„í•œ ì˜ˆì œ

- ê°ì²´ë¥¼ ì „í˜€ ìƒì„±í•˜ì§€ ì•Šìœ¼ë©° ë©”ì„œë“œë¥¼ ì‚¬ìš©í•¨  
- ì •ì  ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ì„±ëŠ¥ ë©´ì—ì„œ ìš°ìˆ˜  

#### ì „ì²´ ì½”ë“œ

```
public class Printer {
    private static int counter = 0;

    public synchronized static void print(String str) {
        counter++;
        System.out.println(str + counter);
    }
}

public class UserThread extends Thread{
    public UserThread(String name) {
        super(name);
    }

    public void run() {
        Printer.print(Thread.currentThread().getName()+" print using .");
    }
}

public class Main {
    private static final int THREAD_NUM = 5;
    public static void main(String[] args) {
        UserThread[] user = new UserThread[THREAD_NUM];

        for (int i = 0; i < THREAD_NUM; i++) {
            user[i] = new UserThread((i+1)+"-thread");
            user[i].start();
        }
    }
}
```

#### ì¶œë ¥

```
2-thread print using .1
1-thread print using .2
4-thread print using .3
3-thread print using .4
5-thread print using .5
```
